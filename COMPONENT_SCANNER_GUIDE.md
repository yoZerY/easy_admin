# ç»„ä»¶è·¯å¾„åŠ¨æ€æ‰«ææŒ‡å—

## ğŸ“‹ åŠŸèƒ½è¯´æ˜

åœ¨èœå•ç®¡ç†é¡µé¢åˆ›å»ºèœå•æ—¶ï¼Œç»„ä»¶è·¯å¾„å­—æ®µç°åœ¨æ”¹ä¸º**ä¸‹æ‹‰æ¡†é€‰æ‹©**ï¼Œå¹¶ä¸”**è‡ªåŠ¨æ‰«æ** `src/views` ç›®å½•ä¸‹çš„æ‰€æœ‰ç»„ä»¶ã€‚

## âœ¨ ç‰¹æ€§

1. âœ… **è‡ªåŠ¨æ‰«æ**ï¼šä½¿ç”¨ Vite çš„ `import.meta.glob` API è‡ªåŠ¨æ‰«ææ‰€æœ‰ç»„ä»¶
2. âœ… **åˆ†ç»„æ˜¾ç¤º**ï¼šæŒ‰æ¨¡å—åˆ†ç»„ï¼ˆç³»ç»Ÿç®¡ç†ã€ä»ªè¡¨ç›˜ã€æ•°æ®ç®¡ç†ç­‰ï¼‰
3. âœ… **æ™ºèƒ½å‘½å**ï¼šè‡ªåŠ¨ç”Ÿæˆå‹å¥½çš„ä¸­æ–‡åç§°
4. âœ… **è·¯å¾„æç¤º**ï¼šæ˜¾ç¤ºå¯¹åº”çš„è·¯ç”±è·¯å¾„
5. âœ… **å¯æœç´¢**ï¼šæ”¯æŒè¾“å…¥å…³é”®è¯å¿«é€ŸæŸ¥æ‰¾
6. âœ… **å®æ—¶æ›´æ–°**ï¼šæ–°å¢ç»„ä»¶åè‡ªåŠ¨å‡ºç°åœ¨åˆ—è¡¨ä¸­

## ğŸ¯ å·¥ä½œåŸç†

### 1. è‡ªåŠ¨æ‰«æ

ä½¿ç”¨ Vite çš„ `import.meta.glob` API æ‰«ææ‰€æœ‰ `.vue` æ–‡ä»¶ï¼š

```typescript
const modules = import.meta.glob('/src/views/**/*.vue', { eager: false })
```

### 2. è·¯å¾„å¤„ç†

```typescript
// åŸå§‹è·¯å¾„ï¼š/src/views/system/user/index.vue
// å¤„ç†åï¼šviews/system/user/index
const componentPath = path.replace('/src/', '').replace('.vue', '')
```

### 3. ç”Ÿæˆæ˜¾ç¤ºä¿¡æ¯

- **æ ‡ç­¾**ï¼š`ç”¨æˆ·ç®¡ç†`
- **å€¼**ï¼š`views/system/user/index`
- **æè¿°**ï¼š`/system/user`
- **åˆ†ç»„**ï¼š`ç³»ç»Ÿç®¡ç†`

## ğŸ“ ä½¿ç”¨æ–¹æ³•

### 1. åœ¨èœå•ç®¡ç†é¡µé¢

1. ç‚¹å‡»"æ–°å¢èœå•"æˆ–"ç¼–è¾‘"
2. é€‰æ‹©èœå•ç±»å‹ï¼ˆç›®å½•/èœå•ï¼‰
3. åœ¨"ç»„ä»¶è·¯å¾„"å­—æ®µï¼Œç‚¹å‡»ä¸‹æ‹‰æ¡†
4. é€‰æ‹©éœ€è¦çš„ç»„ä»¶

### 2. ä¸‹æ‹‰æ¡†åŠŸèƒ½

- **åˆ†ç»„æ˜¾ç¤º**ï¼šæŒ‰æ¨¡å—åˆ†ç»„ï¼Œæ–¹ä¾¿æŸ¥æ‰¾
- **æœç´¢è¿‡æ»¤**ï¼šè¾“å…¥å…³é”®è¯å¿«é€Ÿå®šä½
- **è·¯å¾„æç¤º**ï¼šæ˜¾ç¤ºç»„ä»¶å¯¹åº”çš„è·¯ç”±è·¯å¾„

### 3. ç»„ä»¶ç±»å‹

| èœå•ç±»å‹ | ç»„ä»¶è·¯å¾„        | è¯´æ˜                     |
| -------- | --------------- | ------------------------ |
| ç›®å½•     | Layout          | å¸ƒå±€ç»„ä»¶ï¼Œç”¨äºåŒ…å«å­èœå• |
| èœå•     | views/xxx/index | å®é™…é¡µé¢ç»„ä»¶             |
| æŒ‰é’®     | -               | ä¸éœ€è¦ç»„ä»¶è·¯å¾„           |

## ğŸ” æ‰«æè§„åˆ™

### åŒ…å«çš„æ–‡ä»¶

- âœ… `src/views` ç›®å½•ä¸‹çš„æ‰€æœ‰ `.vue` æ–‡ä»¶
- âœ… ä»»æ„å±‚çº§çš„å­ç›®å½•

### æ’é™¤çš„æ–‡ä»¶

- âŒ `components` å­ç›®å½•ï¼ˆå†…éƒ¨ç»„ä»¶ï¼Œéé¡µé¢ï¼‰
- âŒ é `.vue` æ–‡ä»¶

### ç¤ºä¾‹

```
src/views/
â”œâ”€â”€ welcome/
â”‚   â””â”€â”€ index.vue          âœ… åŒ…å«
â”œâ”€â”€ system/
â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”œâ”€â”€ index.vue      âœ… åŒ…å«
â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚       â””â”€â”€ UserForm.vue  âŒ æ’é™¤ï¼ˆcomponents ç›®å½•ï¼‰
â”‚   â””â”€â”€ role/
â”‚       â””â”€â”€ index.vue      âœ… åŒ…å«
â””â”€â”€ error/
    â”œâ”€â”€ 403.vue            âœ… åŒ…å«
    â””â”€â”€ 404.vue            âœ… åŒ…å«
```

## ğŸ¨ åˆ†ç»„è§„åˆ™

è‡ªåŠ¨æ ¹æ®ç›®å½•ç»“æ„ç”Ÿæˆåˆ†ç»„ï¼š

| ç›®å½•       | åˆ†ç»„åç§° |
| ---------- | -------- |
| welcome    | é¦–é¡µ     |
| dashboard  | ä»ªè¡¨ç›˜   |
| system     | ç³»ç»Ÿç®¡ç† |
| data       | æ•°æ®ç®¡ç† |
| monitor    | ç³»ç»Ÿç›‘æ§ |
| components | ç»„ä»¶ç¤ºä¾‹ |
| demo       | æ¼”ç¤ºé¡µé¢ |
| user       | ä¸ªäººä¸­å¿ƒ |
| error      | é”™è¯¯é¡µé¢ |
| login      | ç™»å½•é¡µé¢ |

## ğŸ’¡ å‘½åè§„åˆ™

### è‡ªåŠ¨å‘½åæ˜ å°„

ç³»ç»Ÿä¼šè‡ªåŠ¨å°†è‹±æ–‡è·¯å¾„è½¬æ¢ä¸ºä¸­æ–‡åç§°ï¼š

```typescript
const nameMap = {
  user: 'ç”¨æˆ·ç®¡ç†',
  role: 'è§’è‰²ç®¡ç†',
  menu: 'èœå•ç®¡ç†',
  dashboard: 'ä»ªè¡¨ç›˜',
  analysis: 'æ•°æ®åˆ†æ'
  // ... æ›´å¤šæ˜ å°„
}
```

### å‘½åä¼˜å…ˆçº§

1. å¦‚æœæ–‡ä»¶åæ˜¯ `index.vue`ï¼Œä½¿ç”¨çˆ¶ç›®å½•å
2. å¦åˆ™ä½¿ç”¨æ–‡ä»¶å
3. æŸ¥æ‰¾å‘½åæ˜ å°„è¡¨
4. å¦‚æœæ²¡æœ‰æ˜ å°„ï¼Œä½¿ç”¨åŸå§‹åç§°

### ç¤ºä¾‹

```
views/system/user/index.vue
  â†“
æ–‡ä»¶å: index
çˆ¶ç›®å½•: user
  â†“
æŸ¥æ‰¾æ˜ å°„: user -> ç”¨æˆ·ç®¡ç†
  â†“
æœ€ç»ˆæ˜¾ç¤º: ç”¨æˆ·ç®¡ç†
```

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### 1. æ·»åŠ æ–°çš„å‘½åæ˜ å°„

ç¼–è¾‘ `src/utils/component-scanner.ts`ï¼š

```typescript
const nameMap: Record<string, string> = {
  // æ·»åŠ ä½ çš„æ˜ å°„
  'my-page': 'æˆ‘çš„é¡µé¢',
  custom: 'è‡ªå®šä¹‰é¡µé¢'
}
```

### 2. æ·»åŠ æ–°çš„åˆ†ç»„

```typescript
const groupMap: Record<string, string> = {
  // æ·»åŠ ä½ çš„åˆ†ç»„
  custom: 'è‡ªå®šä¹‰æ¨¡å—'
}
```

### 3. ä¿®æ”¹æ‰«æè§„åˆ™

```typescript
// æ’é™¤ç‰¹å®šç›®å½•
if (componentPath.includes('/temp/')) {
  return
}

// åªåŒ…å«ç‰¹å®šç›®å½•
if (!componentPath.startsWith('views/system/')) {
  return
}
```

## ğŸ“Š æ‰«æç»“æœç¤ºä¾‹

```javascript
;[
  {
    label: 'Layoutï¼ˆå¸ƒå±€ç»„ä»¶ï¼‰',
    value: 'Layout',
    description: 'ç”¨äºç›®å½•ç±»å‹çš„èœå•',
    group: 'å¸ƒå±€ç»„ä»¶'
  },
  {
    label: 'æ¬¢è¿é¡µ',
    value: 'views/welcome/index',
    description: '/welcome',
    group: 'é¦–é¡µ'
  },
  {
    label: 'ç”¨æˆ·ç®¡ç†',
    value: 'views/system/user/index',
    description: '/system/user',
    group: 'ç³»ç»Ÿç®¡ç†'
  },
  {
    label: 'è§’è‰²ç®¡ç†',
    value: 'views/system/role/index',
    description: '/system/role',
    group: 'ç³»ç»Ÿç®¡ç†'
  }
]
```

## ğŸ› è°ƒè¯•

### æŸ¥çœ‹æ‰«æç»“æœ

æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼Œåœ¨èœå•ç®¡ç†é¡µé¢ä¼šè¾“å‡ºï¼š

```
ğŸ“¦ æ‰«æåˆ°çš„ç»„ä»¶: 25 ä¸ª
ç»„ä»¶åˆ—è¡¨: [...]
```

### æ‰‹åŠ¨æµ‹è¯•

```javascript
import { getComponentOptions } from '@/utils/component-scanner'

const options = getComponentOptions()
console.log('ç»„ä»¶é€‰é¡¹:', options)
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. ç»„ä»¶å‘½å

```
âœ… æ¨èï¼š
views/system/user/index.vue
views/dashboard/analysis/index.vue

âŒ ä¸æ¨èï¼š
views/system/user.vue
views/dashboard-analysis.vue
```

### 2. ç›®å½•ç»“æ„

```
âœ… æ¨èï¼šæŒ‰æ¨¡å—åˆ†ç»„
views/
â”œâ”€â”€ system/
â”‚   â”œâ”€â”€ user/
â”‚   â”œâ”€â”€ role/
â”‚   â””â”€â”€ menu/
â””â”€â”€ dashboard/
    â”œâ”€â”€ analysis/
    â””â”€â”€ workbench/

âŒ ä¸æ¨èï¼šæ‰å¹³ç»“æ„
views/
â”œâ”€â”€ user.vue
â”œâ”€â”€ role.vue
â”œâ”€â”€ menu.vue
â”œâ”€â”€ analysis.vue
â””â”€â”€ workbench.vue
```

### 3. å†…éƒ¨ç»„ä»¶

```
âœ… æ¨èï¼šæ”¾åœ¨ components å­ç›®å½•
views/system/user/
â”œâ”€â”€ index.vue
â””â”€â”€ components/
    â”œâ”€â”€ UserForm.vue
    â””â”€â”€ UserDetail.vue

âŒ ä¸æ¨èï¼šä¸é¡µé¢ç»„ä»¶æ··åœ¨ä¸€èµ·
views/system/user/
â”œâ”€â”€ index.vue
â”œâ”€â”€ UserForm.vue
â””â”€â”€ UserDetail.vue
```

## ğŸ“ æ€»ç»“

é€šè¿‡**åŠ¨æ€æ‰«æç»„ä»¶è·¯å¾„**ï¼Œå®ç°äº†ï¼š

1. âœ… **è‡ªåŠ¨åŒ–**ï¼šæ— éœ€æ‰‹åŠ¨ç»´æŠ¤ç»„ä»¶åˆ—è¡¨
2. âœ… **å®æ—¶æ›´æ–°**ï¼šæ–°å¢ç»„ä»¶è‡ªåŠ¨å‡ºç°
3. âœ… **ç”¨æˆ·å‹å¥½**ï¼šä¸‹æ‹‰æ¡†é€‰æ‹©ï¼Œæ”¯æŒæœç´¢
4. âœ… **æ™ºèƒ½å‘½å**ï¼šè‡ªåŠ¨ç”Ÿæˆä¸­æ–‡åç§°
5. âœ… **åˆ†ç»„æ˜¾ç¤º**ï¼šæŒ‰æ¨¡å—ç»„ç»‡ï¼Œæ–¹ä¾¿æŸ¥æ‰¾

ç°åœ¨åˆ›å»ºèœå•æ—¶ï¼Œé€‰æ‹©ç»„ä»¶è·¯å¾„å˜å¾—æ›´åŠ ç®€å•å’Œç›´è§‚ï¼ğŸ‰
